databaseChangeLog:
  - changeSet:
      id: 1
      author: dba
      changes:
        - createTable:
            tableName: subjects
            columns:
              - column:
                  name: subject_id
                  type: varchar(128)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: subject_title
                  type: text
        - createTable:
            tableName: assets
            columns:
              - column:
                  name: asset_id
                  type: varchar(128)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: full_url
                  type: text
              - column:
                  name: thumb_64
                  type: varchar(2000)
              - column:
                  name: thumb_128
                  type: varchar(2000)
              - column:
                  name: thumb_256
                  type: varchar(2000)
              - column:
                  name: thumb_512
                  type: varchar(2000)
              - column:
                  name: asset_title_en
                  type: nvarchar(240)
              - column:
                  name: asset_desc_en
                  type: nvarchar(2400)
              - column:
                  name: asset_title_de
                  type: nvarchar(240)
              - column:
                  name: asset_desc_de
                  type: nvarchar(2400)
              - column:
                  name: asset_title_fr
                  type: nvarchar(240)
              - column:
                  name: asset_desc_fr
                  type: nvarchar(2400)
              - column:
                  name: asset_title_es
                  type: nvarchar(240)
              - column:
                  name: asset_desc_es
                  type: nvarchar(2400)
        - createTable:
            tableName: assets_subjects
            columns:
              - column:
                  name: asset_id
                  type: varchar(128)
              - column:
                  name: subject_id
                  type: varchar(128)
        - createTable:
            tableName: asset_pricing_schedules
            columns:
              - column:
                  name: asset_pricing_schedule_id
                  type: varchar(128)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: asset_id
                  type: varchar(128)
              - column:
                  name: price_code
                  type: varchar(64)
              - column:
                  name: start_date
                  type: bigint
              - column:
                  name: end_date
                  type: bigint
              - column:
                  name: schedule_committed
                  type: boolean
        - addForeignKeyConstraint:
            id: assets_subjects-assets
            constraintName: assets_subjects_to_assets
            baseTableName: assets_subjects
            baseColumnNames: asset_id
            referencedTableName: assets
            referencedColumnNames: asset_id
        - addForeignKeyConstraint:
            id: assets_subjects-subjects
            constraintName: assets_subjects_to_subjects
            baseTableName: assets_subjects
            baseColumnNames: subject_id
            referencedTableName: subjects
            referencedColumnNames: subject_id
        - addForeignKeyConstraint:
            id: assets-asset_pricing_schedules
            constraintName: assets_to_asset_pricing_schedules
            baseTableName: asset_pricing_schedules
            baseColumnNames: asset_id
            referencedTableName: assets
            referencedColumnNames: asset_id